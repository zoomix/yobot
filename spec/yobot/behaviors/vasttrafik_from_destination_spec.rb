#encoding:utf-8
require 'spec_helper'
require 'nokogiri'
require 'time_travel'

describe Yobot::Behaviors::VasttrafikFromDestiantion do

  it "has a description" do
    Yobot::Behaviors::VasttrafikFromDestiantion.new.describe.length > 0
  end
  
  it "find the stop id" do
    departure = Yobot::Behaviors::VasttrafikFromDestiantion.new.find_station_id('bellevue')
    departure.should == "00001310"
  end
  
  it 'checks the url ' do
    url = Yobot::Behaviors::VasttrafikFromDestiantion.new.get_route_url('1', '2')
    url.should == "http://vasttrafik.se/External_Services/TravelPlanner.asmx/GetRoute?identifier=d5542e00-3230-46eb-a73e-5bd6821bf5ef&fromId=1&toId=2&dateTimeTravel=#{URI.encode(Time.now.to_s[0..-10])}&whenId=1&priorityId=1&numberOfResultBefore=1&numberOfResulsAfter=4"
  end
  
  it "find routes" do
    at_time(DateTime.parse('2011-07-06 09:50:00 +0200')) do
      routes = Yobot::Behaviors::VasttrafikFromDestiantion.new.get_route_from('00001310')
      routes[0].should == "-08min - Spårvagn 11 - Haga"
      routes[1].should == "-08min - Spårvagn 11, Buss 16 - Vasa"
      routes[2].should == "001min - Spårvagn 7 - Vasa"
    end
  end
  
  context 'writes routes to room' do
    it "short order" do
      room = stub(:room)
    
      at_time(DateTime.parse('2011-07-06 09:50:00 +0200')) do
        room.should_receive(:paste).with("-08min - Spårvagn 11 - Haga\n-08min - Spårvagn 11, Buss 16 - Vasa\n001min - Spårvagn 7 - Vasa\n007min - Spårvagn 11 - Haga\n016min - Spårvagn 7 - Vasa\n022min - Spårvagn 11 - Haga\n030min - Spårvagn 7 - Vasa\n036min - Spårvagn 11 - Haga\n045min - Spårvagn 7 - Vasa\n051min - Spårvagn 11 - Haga\n060min - Spårvagn 7 - Vasa\n066min - Spårvagn 11 - Haga\n")
        Yobot::Behaviors::VasttrafikFromDestiantion.new.react(room, 'from bellevue')
      end
    end

    it "long orders" do
      room = stub(:room)

      at_time(DateTime.parse('2011-07-06 09:50:00 +0200')) do
        room.should_receive(:paste).with("-08min - Spårvagn 11 - Haga\n-08min - Spårvagn 11, Buss 16 - Vasa\n001min - Spårvagn 7 - Vasa\n007min - Spårvagn 11 - Haga\n016min - Spårvagn 7 - Vasa\n022min - Spårvagn 11 - Haga\n030min - Spårvagn 7 - Vasa\n036min - Spårvagn 11 - Haga\n045min - Spårvagn 7 - Vasa\n051min - Spårvagn 11 - Haga\n060min - Spårvagn 7 - Vasa\n066min - Spårvagn 11 - Haga\n")
        Yobot::Behaviors::VasttrafikFromDestiantion.new.react(room, 'beam me up from bellevue')
      end
    end

    it "wrong orders" do
      room = stub(:room)

      at_time(DateTime.parse('2011-07-06 09:50:00 +0200')) do
        room.should_receive(:paste).never
        Yobot::Behaviors::VasttrafikFromDestiantion.new.react(room, '.. dude, im totaly at bellevue ... aaand id love to be at work ')
      end
    end
  end
  
  
  class Yobot::Behaviors::VasttrafikFromDestiantion
    def get_station_xml(station_name)
      x = <<EOF
<?xml version="1.0" encoding="utf-8"?>
<string xmlns="http://vasttrafik.se/">&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;&lt;root&gt;&lt;suggestions&gt;&lt;items&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" shortcut=".bv" stop_type="Stop" rt90_x="6407080" rt90_y="1274728"&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;county&gt;&lt;![CDATA[GÖTEBORG]]&gt;&lt;/county&gt;&lt;/item&gt;&lt;/items&gt;&lt;/suggestions&gt;&lt;/root&gt;</string>
EOF
      x.gsub!(/&lt;/, '<').gsub!(/&gt;/, '>')
    end
    
    def get_route_to_hagakyrkan(dest_id)
      x = <<EOF
      <?xml version="1.0" encoding="utf-8"?>
      <string xmlns="http://vasttrafik.se/">&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;&lt;root&gt;&lt;travel_planner&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;items&gt;&lt;item departure_time="2011-07-06T09:42:00" arrival_time="2011-07-06T09:58:00" travel_time="16" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-06T09:42:00" arrival_time="2011-07-06T09:58:00" line_color="#000000"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Saltholmen]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 09:42:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 09:44:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 09:45:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 09:51:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 09:52:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-06 09:55:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-06 09:56:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-06 09:58:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T09:57:00" arrival_time="2011-07-06T10:14:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="true"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-06T09:57:00" arrival_time="2011-07-06T10:14:00" line_color="#000000"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Saltholmen]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 09:57:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 09:59:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 10:00:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 10:06:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 10:08:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-06 10:11:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-06 10:12:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-06 10:14:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T10:12:00" arrival_time="2011-07-06T10:29:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-06T10:12:00" arrival_time="2011-07-06T10:29:00" line_color="#000000"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Saltholmen]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 10:12:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 10:14:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 10:15:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 10:21:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 10:23:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-06 10:26:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-06 10:27:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-06 10:29:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T10:26:00" arrival_time="2011-07-06T10:43:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-06T10:26:00" arrival_time="2011-07-06T10:43:00" line_color="#000000"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Saltholmen]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 10:26:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 10:28:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 10:29:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 10:35:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 10:37:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-06 10:40:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-06 10:41:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-06 10:43:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T10:41:00" arrival_time="2011-07-06T10:58:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-06T10:41:00" arrival_time="2011-07-06T10:58:00" line_color="#000000"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Saltholmen]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 10:41:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 10:43:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 10:44:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 10:50:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 10:52:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-06 10:55:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-06 10:56:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-06 10:58:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T10:56:00" arrival_time="2011-07-06T11:13:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-06T10:56:00" arrival_time="2011-07-06T11:13:00" line_color="#000000"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Saltholmen]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 10:56:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 10:58:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 10:59:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 11:05:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 11:07:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-06 11:10:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-06 11:11:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-06 11:13:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;/items&gt;&lt;/travel_planner&gt;&lt;/root&gt;</string>
EOF
      x.gsub!(/&lt;/, '<').gsub!(/&gt;/, '>')
    end

    def get_route_to_vasaplatsen(dest_id)
      x = <<EOF
      <?xml version="1.0" encoding="utf-8"?>
      <string xmlns="http://vasttrafik.se/">&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;&lt;root&gt;&lt;travel_planner&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;items&gt;&lt;item departure_time="2011-07-06T09:42:00" arrival_time="2011-07-06T10:02:00" travel_time="20" changes="1" vehicle_types="11,S|16,B|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11, Buss 16]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-06T09:42:00" arrival_time="2011-07-06T09:52:00" line_color="#000000"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001760" stop_id_with_hash_key="00001760!802828171" traffic_island="C" image_url="http://vasttrafik.se/StopMaps/1760.jpg" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Saltholmen]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 09:42:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 09:44:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 09:45:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 09:51:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 09:52:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;item line="16,B|" departure_time="2011-07-06T09:57:00" arrival_time="2011-07-06T10:02:00" line_color="#000000"&gt;&lt;from stop_id="00001760" stop_id_with_hash_key="00001760!802828171" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1760.jpg" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="D" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Buss 16]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Högsbohöjd]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 09:57:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-06 09:59:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-06 10:00:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-06 10:02:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T09:51:00" arrival_time="2011-07-06T10:07:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="true"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-06T09:51:00" arrival_time="2011-07-06T10:07:00" line_color="#7D4313"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Tynnered]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 09:51:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 09:53:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 09:54:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 10:00:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 10:02:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-06 10:04:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-06 10:06:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-06 10:07:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T10:06:00" arrival_time="2011-07-06T10:22:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-06T10:06:00" arrival_time="2011-07-06T10:22:00" line_color="#7D4313"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Tynnered]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 10:06:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 10:08:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 10:09:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 10:15:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 10:17:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-06 10:19:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-06 10:21:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-06 10:22:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T10:20:00" arrival_time="2011-07-06T10:36:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-06T10:20:00" arrival_time="2011-07-06T10:36:00" line_color="#7D4313"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Tynnered]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 10:20:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 10:22:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 10:23:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 10:29:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 10:31:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-06 10:33:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-06 10:35:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-06 10:36:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T10:35:00" arrival_time="2011-07-06T10:51:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-06T10:35:00" arrival_time="2011-07-06T10:51:00" line_color="#7D4313"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Tynnered]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 10:35:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 10:37:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 10:38:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 10:44:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 10:46:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-06 10:48:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-06 10:50:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-06 10:51:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-06T10:50:00" arrival_time="2011-07-06T11:06:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-06T10:50:00" arrival_time="2011-07-06T11:06:00" line_color="#7D4313"&gt;&lt;from stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Tynnered]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-06 10:50:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-06 10:52:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-06 10:53:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-06 10:59:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-06 11:01:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-06 11:03:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-06 11:05:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-06 11:06:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;/items&gt;&lt;/travel_planner&gt;&lt;/root&gt;</string>
EOF
      x.gsub!(/&lt;/, '<').gsub!(/&gt;/, '>')
    end
  end
end
