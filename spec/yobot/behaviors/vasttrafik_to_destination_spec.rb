#encoding:utf-8
require 'spec_helper'
require 'nokogiri'
require 'time_travel'

describe Yobot::Behaviors::VasttrafikToDestiantion do

  it "has a description" do
    Yobot::Behaviors::VasttrafikToDestiantion.new.describe.length > 0
  end
  
  it "find the stop id" do
    departure = Yobot::Behaviors::VasttrafikToDestiantion.new.find_station_id('bellevue')
    departure.should == "00001310"
  end
  
  it 'checks the url ' do
    url = Yobot::Behaviors::VasttrafikToDestiantion.new.get_route_url('1', '2')
    url.should == "http://vasttrafik.se/External_Services/TravelPlanner.asmx/GetRoute?identifier=d5542e00-3230-46eb-a73e-5bd6821bf5ef&fromId=1&toId=2&dateTimeTravel=#{URI.encode(Time.now.to_s[0..-10])}&whenId=1&priorityId=1&numberOfResultBefore=1&numberOfResulsAfter=4"
  end
  
  it "find routes" do

    at_time(DateTime.parse('2011-07-05 16:25:00 +0200')) do
      routes = Yobot::Behaviors::VasttrafikToDestiantion.new.get_route_to('00001310')
      routes[0].should == "-03min - Spårvagn 7 - Vasa"
      routes[1].should == "-03min - Spårvagn 9, Buss 69 - Haga"
      routes[2].should == "003min - Spårvagn 11 - Haga"
    end
  end
  
  it "writes routes to room" do
    room = stub(:room)
    
    at_time(DateTime.parse('2011-07-05 16:25:00 +0200')) do
      room.should_receive(:paste).with("-03min - Spårvagn 7 - Vasa\n-03min - Spårvagn 9, Buss 69 - Haga\n003min - Spårvagn 11 - Haga\n009min - Spårvagn 7 - Vasa\n015min - Spårvagn 11 - Haga\n021min - Spårvagn 7 - Vasa\n027min - Spårvagn 11 - Haga\n033min - Spårvagn 7 - Vasa\n039min - Spårvagn 11 - Haga\n045min - Spårvagn 7 - Vasa\n051min - Spårvagn 11 - Haga\n057min - Spårvagn 7 - Vasa\n")
      Yobot::Behaviors::VasttrafikToDestiantion.new.react(room, 'set course for bellevue')
    end
  end
  
  
  class Yobot::Behaviors::VasttrafikToDestiantion
    def get_station_xml(station_name)
      x = <<EOF
<?xml version="1.0" encoding="utf-8"?>
<string xmlns="http://vasttrafik.se/">&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;&lt;root&gt;&lt;suggestions&gt;&lt;items&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" shortcut=".bv" stop_type="Stop" rt90_x="6407080" rt90_y="1274728"&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;county&gt;&lt;![CDATA[GÖTEBORG]]&gt;&lt;/county&gt;&lt;/item&gt;&lt;/items&gt;&lt;/suggestions&gt;&lt;/root&gt;</string>
EOF
      x.gsub!(/&lt;/, '<').gsub!(/&gt;/, '>')
    end
    
    def get_route_from_hagakyrkan(dest_id)
      x = <<EOF
      <?xml version="1.0" encoding="utf-8"?>
      <string xmlns="http://vasttrafik.se/">&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;&lt;root&gt;&lt;travel_planner&gt;&lt;from stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;items&gt;&lt;item departure_time="2011-07-05T16:22:00" arrival_time="2011-07-05T16:44:00" travel_time="22" changes="1" vehicle_types="9,S|69,B|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 9, Buss 69]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="9,S|" departure_time="2011-07-05T16:22:00" arrival_time="2011-07-05T16:36:00" line_color="#6EC8DC"&gt;&lt;from stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" traffic_island="D" image_url="http://vasttrafik.se/StopMaps/2670.jpg" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 9]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Angered]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-05 16:22:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-05 16:24:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-05 16:25:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 16:28:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 16:30:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 16:36:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;item line="69,B|" departure_time="2011-07-05T16:41:00" arrival_time="2011-07-05T16:44:00" line_color="#003273"&gt;&lt;from stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" traffic_island="E" image_url="http://vasttrafik.se/StopMaps/2670.jpg" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="D" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Buss 69]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Östra Sjukhuset]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 16:41:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 16:42:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 16:44:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T16:28:00" arrival_time="2011-07-05T16:45:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="true"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-05T16:28:00" arrival_time="2011-07-05T16:45:00" line_color="#000000"&gt;&lt;from stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-05 16:28:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-05 16:30:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-05 16:31:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 16:34:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 16:36:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 16:42:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 16:43:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 16:45:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T16:40:00" arrival_time="2011-07-05T16:57:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-05T16:40:00" arrival_time="2011-07-05T16:57:00" line_color="#000000"&gt;&lt;from stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-05 16:40:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-05 16:42:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-05 16:43:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 16:46:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 16:48:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 16:54:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 16:55:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 16:57:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T16:52:00" arrival_time="2011-07-05T17:09:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-05T16:52:00" arrival_time="2011-07-05T17:09:00" line_color="#000000"&gt;&lt;from stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-05 16:52:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-05 16:54:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-05 16:55:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 16:58:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 17:00:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 17:06:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 17:07:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 17:09:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T17:04:00" arrival_time="2011-07-05T17:21:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-05T17:04:00" arrival_time="2011-07-05T17:21:00" line_color="#000000"&gt;&lt;from stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-05 17:04:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-05 17:06:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-05 17:07:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 17:10:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 17:12:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 17:18:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 17:19:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 17:21:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T17:16:00" arrival_time="2011-07-05T17:33:00" travel_time="17" changes="0" vehicle_types="11,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="11,S|" departure_time="2011-07-05T17:16:00" arrival_time="2011-07-05T17:33:00" line_color="#000000"&gt;&lt;from stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/3040.jpg" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 11]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00003040" stop_id_with_hash_key="00003040!-236186603" stop_time="2011-07-05 17:16:00" rt90_x="6403695" rt90_y="1270903"&gt;&lt;stop_name&gt;&lt;![CDATA[Hagakyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Hagakyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002850" stop_id_with_hash_key="00002850!1528550034" stop_time="2011-07-05 17:18:00" rt90_x="6404008" rt90_y="1271076"&gt;&lt;stop_name&gt;&lt;![CDATA[Grönsakstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Grönsakstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002130" stop_id_with_hash_key="00002130!505285890" stop_time="2011-07-05 17:19:00" rt90_x="6404212" rt90_y="1271043"&gt;&lt;stop_name&gt;&lt;![CDATA[Domkyrkan]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Domkyrkan, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 17:22:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 17:24:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 17:30:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 17:31:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 17:33:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;/items&gt;&lt;/travel_planner&gt;&lt;/root&gt;</string>
EOF
      x.gsub!(/&lt;/, '<').gsub!(/&gt;/, '>')
    end

    def get_route_from_vasaplatsen(dest_id)
      x = <<EOF
      <?xml version="1.0" encoding="utf-8"?>
      <string xmlns="http://vasttrafik.se/">&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;&lt;root&gt;&lt;travel_planner&gt;&lt;from stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;items&gt;&lt;item departure_time="2011-07-05T16:22:00" arrival_time="2011-07-05T16:38:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-05T16:22:00" arrival_time="2011-07-05T16:38:00" line_color="#7D4313"&gt;&lt;from stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-05 16:22:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-05 16:23:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-05 16:25:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 16:27:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 16:29:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 16:35:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 16:36:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 16:38:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T16:34:00" arrival_time="2011-07-05T16:50:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="true"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-05T16:34:00" arrival_time="2011-07-05T16:50:00" line_color="#7D4313"&gt;&lt;from stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-05 16:34:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-05 16:35:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-05 16:37:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 16:39:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 16:41:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 16:47:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 16:48:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 16:50:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T16:46:00" arrival_time="2011-07-05T17:02:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-05T16:46:00" arrival_time="2011-07-05T17:02:00" line_color="#7D4313"&gt;&lt;from stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-05 16:46:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-05 16:47:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-05 16:49:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 16:51:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 16:53:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 16:59:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 17:00:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 17:02:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T16:58:00" arrival_time="2011-07-05T17:14:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-05T16:58:00" arrival_time="2011-07-05T17:14:00" line_color="#7D4313"&gt;&lt;from stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-05 16:58:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-05 16:59:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-05 17:01:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 17:03:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 17:05:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 17:11:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 17:12:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 17:14:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T17:10:00" arrival_time="2011-07-05T17:26:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-05T17:10:00" arrival_time="2011-07-05T17:26:00" line_color="#7D4313"&gt;&lt;from stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-05 17:10:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-05 17:11:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-05 17:13:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 17:15:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 17:17:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 17:23:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 17:24:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 17:26:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;item departure_time="2011-07-05T17:22:00" arrival_time="2011-07-05T17:38:00" travel_time="16" changes="0" vehicle_types="7,S|" adult_account_price="1650" youth_account_price="1240" adult_cash_price="2100" youth_cash_price="1600" adult_sms_price="2100" youth_sms_price="1600" best_route="false"&gt;&lt;vehicle_types_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/vehicle_types_friendly&gt;&lt;remarks&gt;&lt;![CDATA[]]&gt;&lt;/remarks&gt;&lt;details&gt;&lt;item line="7,S|" departure_time="2011-07-05T17:22:00" arrival_time="2011-07-05T17:38:00" line_color="#7D4313"&gt;&lt;from stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" traffic_island="A" image_url="http://vasttrafik.se/StopMaps/7300.jpg" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/from&gt;&lt;to stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" traffic_island="B" image_url="http://vasttrafik.se/StopMaps/1310.jpg" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/to&gt;&lt;line_friendly&gt;&lt;![CDATA[Spårvagn 7]]&gt;&lt;/line_friendly&gt;&lt;destination&gt;&lt;![CDATA[Bergsjön]]&gt;&lt;/destination&gt;&lt;between_stops&gt;&lt;item stop_id="00007300" stop_id_with_hash_key="00007300!-556148836" stop_time="2011-07-05 17:22:00" rt90_x="6403615" rt90_y="1271372"&gt;&lt;stop_name&gt;&lt;![CDATA[Vasaplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Vasaplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00007220" stop_id_with_hash_key="00007220!449537098" stop_time="2011-07-05 17:23:00" rt90_x="6403735" rt90_y="1271662"&gt;&lt;stop_name&gt;&lt;![CDATA[Valand]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Valand, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00004090" stop_id_with_hash_key="00004090!-2128741527" stop_time="2011-07-05 17:25:00" rt90_x="6404161" rt90_y="1271401"&gt;&lt;stop_name&gt;&lt;![CDATA[Kungsportsplatsen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Kungsportsplatsen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001760" stop_id_with_hash_key="00001760!802828171" stop_time="2011-07-05 17:27:00" rt90_x="6404493" rt90_y="1271306"&gt;&lt;stop_name&gt;&lt;![CDATA[Brunnsparken]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Brunnsparken, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001950" stop_id_with_hash_key="00001950!-1257386994" stop_time="2011-07-05 17:29:00" rt90_x="6404579" rt90_y="1271663"&gt;&lt;stop_name&gt;&lt;![CDATA[Centralstationen]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Centralstationen, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00002670" stop_id_with_hash_key="00002670!-1196750714" stop_time="2011-07-05 17:35:00" rt90_x="6406680" rt90_y="1273664"&gt;&lt;stop_name&gt;&lt;![CDATA[Gamlestadstorget]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Gamlestadstorget, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00005862" stop_id_with_hash_key="00005862!2017442142" stop_time="2011-07-05 17:36:00" rt90_x="6406821" rt90_y="1274171"&gt;&lt;stop_name&gt;&lt;![CDATA[SKF]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[SKF, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;item stop_id="00001310" stop_id_with_hash_key="00001310!-1294568874" stop_time="2011-07-05 17:38:00" rt90_x="6407080" rt90_y="1274728"&gt;&lt;stop_name&gt;&lt;![CDATA[Bellevue]]&gt;&lt;/stop_name&gt;&lt;friendly_name&gt;&lt;![CDATA[Bellevue, GÖTEBORG (Hållplats)]]&gt;&lt;/friendly_name&gt;&lt;/item&gt;&lt;/between_stops&gt;&lt;/item&gt;&lt;/details&gt;&lt;/item&gt;&lt;/items&gt;&lt;/travel_planner&gt;&lt;/root&gt;</string>
EOF
      x.gsub!(/&lt;/, '<').gsub!(/&gt;/, '>')
    end
  end
end
